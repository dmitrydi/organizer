# Органайзер событий
Программа для обработки и хранения различных событий. События привязаны к определеной дате. Программа может выполнять соледующие команды:

* __Add__ ***date event*** - добавление пары (***date, event***) в базу данных
* __Print__ - вывести всё содержимое базы
* __Find__ ***condition*** - вывести все события, которые удовлетворяют условию ***condition***
* __Del__ ***condition*** - удалить из базы все события, удовлетворяющие ***condition***
* __Last__ ***date*** -  вывести запись с последним событием, случившимся не позже указанной даты

Условия в командах __Find__ и __Del__ накладывают ограничения на даты и события. При этом поддерживаются сложные условия, включающие в себя логические операторы (__AND__, __OR__), операторы сравнения (__>, <, ==, !=, >=, <=__), а так же курглые скобки для группировки условий. Примеры:

* __Find date <2021-10-30__ - вывести все события, случившиеся до 30 октября 2021 года
* __Del event != "holiday"__ - удалить все события, кроме __"holiday"__
* __Find date >= 2021-01-01 AND date < 2021-07-01 AND event == "sport event"__ - найти все события __sport event__ в первой половине 2021 года
* __Del date < 2021-01-01 AND (event == "holiday" OR event == "sport event")__ - удалить из базы все события __sport event__ и __holiday__, случившиеся до 2021 года

Если условия этих команд пусты, то под них попадают все объекты.

# Установка
### Требования
Поддержка компиллятором стандарта C++17  

# Использование
Программа считывает команды из стандартного потока ввода и выводит результаты в стандартный поток вывода. Правила обработки команд:  

### Команда Add
Встретив команду __Add date event__, программа добавляет пару (date, event) в базу данных и затем показывает её при поиске (команда Find) или печати (команда Print). Одинаковые события,  
произошедшие в один и тот же день, не сохраняются: добавление в базу уже существующей пары (date, event) игнорируется. В одну и ту же дату может произойти много разных событий, БД  
сохраняет их все.

Поле date в команде Add должно иметь формат «Год-Месяц-День», где Год — это целое число от 0 до 9999, Месяц — это номер месяца от 1 до 12 включительно, День — это номер дня от 1 до 31 включительно. После даты обязательно следует пробел, отделяющий её от события. Примеры корректных дат: 2021-11-07, 0-2-31.

Вся остальная часть строки в команде Add задаёт событие. Оно может содержать пробелы, и не может содержать символ кавычки ("). Таким образом, этот символ может встретиться лишь в условии в командах Find и Del, являясь ограничителем названия события.

__Пример__

Для команды __Add 2021-11-07 big sport event__ программа добавляет в базу данных пару (__2021-11-07, big sport event__).

### Команда Del
Встретив команду __Del condition__, ваша программа удаляет из базы данных все события, удовлетворяющие условию __condition__ и выводит стандартный вывод количество удалённых записей N в формате «Removed N entries». Если условие пусто, результатом команда очищает всю базу данных.

Пример ввода:

	Add 2021-06-01 1st of June
	Add 2021-07-08 8th of July
	Add 2021-07-08 Someone's birthday
	Del date == 2021-07-08

Вывод:

	Removed 2 entries


### Команда Print

Встретив команду Print, ваша программа выводит все пары (дата, событие), которые в данный момент содержатся в базе данных по одной в строке. Записи выводятся в порядке возрастания дат событий. События в рамках одной даты выводятся в порядке добавления (за исключением уже удалённых и попыток добавления повторов).

Даты выводятся в формате ГГГГ-ММ-ДД, где Г, М, Д — это цифры чисел года, месяца и дня соответственно. Если какое-то число имеет меньше разрядов, чем нужно, оно дополнятеся нулями, например: 0001-01-01 — первое января первого года.

Пример ввода:

	Add 2021-01-01 Holiday
	Add 2021-03-08 Holiday
	Add 2021-1-1 New Year
	Add 2021-1-1 New Year
	Print


Вывод:

	2021-01-01 Holiday
	2021-01-01 New Year
	2021-03-08 Holiday

При этом в выводе отсутсвует дублирование события __New Year__ с lfnjq __2021-01-01__.

Встретив команду __Find__ ___condition___, ваша программа выводит все пары (дата, событие), которые в данный момент содержатся в базе данных и удовлетворяют условию ___condition___. Формат вывода аналогичен команде Print. Поиск с пустым условием эквивалентен команде Print. В конце выводится строка "Found N entries", где N— количество найденных пар.

Пример ввода:

	Add 2021-01-01 Holiday
	Add 2021-03-08 Holiday
	Add 2021-01-01 New Year
	Find event != "working day"
	Add 2021-05-09 Holiday

Вывод:

	2021-01-01 Holiday
	2021-01-01 New Year
	2021-03-08 Holiday
	Found 3 entries


### Команда Last
Встретив команду __Last__ ___date___, программа выводит последнее добавленное событие, случившееся в дату, не превосходящую ___date___. Если ___date___ меньше всех дат в базе данных, то выводится сообщение "No entries".

Пример ввода:

	Add 2021-01-01 New Year
	Add 2021-03-08 Holiday
	Add 2021-01-01 Holiday
	Last 2020-12-31
	Last 2021-01-01
	Last 2021-06-01

Вывод:

	No entries
	2021-01-01 Holiday
	2021-03-08 Holiday

### Пример работы программы

Ввод:

	Add 2021-11-21 Tuesday
	Add 2021-11-20 Monday
	Add 2021-11-21 Weekly meeting
	Print
	Find event != "Weekly meeting"
	Last 2021-11-30
	Del date > 2021-11-20
	Last 2021-11-30
	Last 2021-11-01

Вывод:

	2021-11-20 Monday
	2021-11-21 Tuesday
	2021-11-21 Weekly meeting
	2021-11-20 Monday
	2021-11-21 Tuesday
	Found 2 entries
	2021-11-21 Weekly meeting
	Removed 2 entries
	2021-11-20 Monday
	No entries

